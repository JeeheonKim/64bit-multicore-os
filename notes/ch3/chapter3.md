## 3.1 운영모드
인텔 모드 기준으로 공부
- 리얼 모드, 보호 모드, IA-32e 모드, 시스템 관리 모드, 가상 8060 모드

이 중에서 우리가 기억해야 하는 세 가지 모드는 리얼 모드, 보호 보드, IA-32e 모드이다.
이 외 모드들은 특수한 기능 수행

🥉
1. 리얼 모드: 전원이 켜지거나 리셋되면 프로세서는 무조건 리얼모드 진입. 디스크 읽기 및 쓰기, 그래픽 모드로 전환하는 기능[BIOS 기능이라고 부름]을 가능케 한다.
디바이스 드라이버를 제작하지 않고도 원하는 작업가능하다는 장점이 있지만 대부분 작업을 어셈블리어로 처리해야 하므로 개발하기 어렵다는 단점이 있다. 
OS 이미지를 디스크에서 메모리로 복사하는 작업을 하는 모드이다!

2. 보호 모드: 리얼 모드에서 IA-32e 모드로 전환할 때 반드시 거쳐야 하는 모드. 32비트 윈도우와 리눅스os가 동작하는 기본 모드.
OS의 필수 기능으로 자리 잡은 보호, 멀티 태스킹, 세그멘테이션, 페이징 등의 기능을 하드웨어적(?) 으로 지원.
여러 기능을 제공 -> 복잡하고 **레지스터**와 **자료구조**가 다양.
여기에서 사용되는 대부분 레지스터는 IA-32e모드에서 사용될 수 있다.

3. IA-32e 모드: 서브모드로 32bit호환모드, 64bit호환모드가 있다. 32bit호환모드는 보호모드와 같은 기능 수행.
64bit모드는 레지스터가 보호모드보다 많다. 하지만 자료 구조는 보호모드와 같거나 크기만 2배로 확장, 일부 필드의 의미 변하는 정도.

![](.chapter3_images/636c206d.png)

## 3.2 운영모드와 레지스터
레지스터: 프로세서 안에 있는 작은 공간으로 연산, 제어, 상태표시, 디버깅 목적으로 사용됨.

가장 중요한 레지스터 3개
1. 범용 레지스터: 운영모드와 가장 관계 깊은 레지스터. 계산, 메모리address 지정, 임시저장공간 등의 목적으로 사용.
운영모드 앞에 붙는 숫자와 범용레지스터의 크기는 대체로 일치 하지만 달라도 놀라지 말 것.
범용레지스터가 많으면 수행 속도 개선 bc 메모리에 접근하는 시간을 줄여줌.
고정된 기능이 없다 하지만 특별한 레지스터는 특수한 용도로만 사용이 약속됨.
![](.chapter3_images/7fb6887a.png)
64비트 범용 레지스터는 하위 32비트, 16비트, 8비트의 크기로 구분해 접근할 수 있고, 레지스터의 접듀사나 접미사로 그 크기를 나타냄. 다음 그림에서 접미사 접두사의 특징을 찾아보자.
![](.chapter3_images/8e0f3444.png)

2. 세그먼트 레지스터: 16bit레지스터로 어드레스 영역을 다양한 크기로 구분. 부가적으로 보호모드나 IA-32e모드에서는 접근권한, 세그먼트의 시작 어드레스와 크기 지정하는 데 사용 ➡ 커널 보호.
![](.chapter3_images/b531faaa.png)
CodeSegment/ DataSegment, ExtraSegment, FS, GS (two letters that followed)  /StackSegment
세그멘테이션은 세그먼트 레지스터를 이용해 주소 구분하는 방식

3. 컨트롤 레지스터: 운영 모드 변경, 현재 운영 중인 모드의 특징 기능을 제어. 프로세스의 운영모드와 확장기능을 관장 => 복잡. 

## 3.3 메모리 관리 기법
